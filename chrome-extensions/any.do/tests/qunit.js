(function(j){var t,p;function E(){c.autorun=!0;c.currentModule&&m("moduleDone",d,{name:c.currentModule,failed:c.moduleStats.bad,passed:c.moduleStats.all-c.moduleStats.bad,total:c.moduleStats.all});var b=k("qunit-banner"),a=k("qunit-tests"),e=+new Date-c.started,h=c.stats.all-c.stats.bad,g=["Tests completed in ",e,' milliseconds.<br/><span class="passed">',h,'</span> tests of <span class="total">',c.stats.all,'</span> passed, <span class="failed">',c.stats.bad,"</span> failed."].join("");b&&(b.className=
c.stats.bad?"qunit-fail":"qunit-pass");a&&(k("qunit-testresult").innerHTML=g);c.altertitle&&"undefined"!==typeof document&&document.title&&(document.title=[c.stats.bad?"\u2716":"\u2714",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));m("done",d,{failed:c.stats.bad,passed:h,total:c.stats.all,runtime:e})}function q(b){return!b?"":(b+"").replace(/[\&<>]/g,function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";default:return a}})}function r(b,a){c.queue.push(b);
c.autorun&&!c.blocking&&u(a)}function u(b){var a=(new Date).getTime();for(c.depth=c.depth?c.depth+1:1;c.queue.length&&!c.blocking;)if(!t||0>=c.updateRate||(new Date).getTime()-a<c.updateRate)c.queue.shift()();else{j.setTimeout(function(){u(b)},13);break}c.depth--;b&&!c.blocking&&!c.queue.length&&0===c.depth&&E()}function v(){c.pollution=[];if(c.noglobals)for(var b in j)w.call(j,b)&&c.pollution.push(b)}function z(b,a){for(var e=b.slice(),c=0;c<e.length;c++)for(var d=0;d<a.length;d++)if(e[c]===a[d]){e.splice(c,
1);c--;break}return e}function A(b,a,e){"undefined"!==typeof console&&console.error&&console.warn?(console.error(b),console.error(a),console.error(a.stack),console.warn(e.toString())):j.opera&&opera.postError&&opera.postError(b,a,e.toString)}function l(b,a){for(var e in a)if(void 0===a[e])delete b[e];else if("constructor"!==e||b!==j)b[e]=a[e];return b}function s(b,a,e){b.addEventListener?b.addEventListener(a,e,!1):b.attachEvent?b.attachEvent("on"+a,e):e()}function k(b){return!!("undefined"!==typeof document&&
document&&document.getElementById)&&document.getElementById(b)}function n(b){return function(a){c[b].push(a)}}function m(b,a,e){if(d.hasOwnProperty(b))d[b].call(a,e);else for(var b=c[b],h=0;h<b.length;h++)b[h].call(a,e)}function x(b){for(var a="",e,c=0;b[c];c++)e=b[c],3===e.nodeType||4===e.nodeType?a+=e.nodeValue:8!==e.nodeType&&(a+=x(e.childNodes));return a}t="undefined"!==typeof j.setTimeout;try{p=!!sessionStorage.getItem}catch(G){p=!1}var F=0,B=Object.prototype.toString,w=Object.prototype.hasOwnProperty,
C=function(b,a,e,c,d,i){this.name=b;this.testName=a;this.expected=e;this.testEnvironmentArg=c;this.async=d;this.callback=i;this.assertions=[]};C.prototype={init:function(){var b=k("qunit-tests");if(b){var a=document.createElement("strong");a.innerHTML="Running "+this.name;var e=document.createElement("li");e.appendChild(a);e.className="running";e.id=this.id="test-output"+F++;b.appendChild(e)}},setup:function(){this.module!=c.previousModule&&(c.previousModule&&m("moduleDone",d,{name:c.previousModule,
failed:c.moduleStats.bad,passed:c.moduleStats.all-c.moduleStats.bad,total:c.moduleStats.all}),c.previousModule=this.module,c.moduleStats={all:0,bad:0},m("moduleStart",d,{name:this.module}));c.current=this;this.testEnvironment=l({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);this.testEnvironmentArg&&l(this.testEnvironment,this.testEnvironmentArg);m("testStart",d,{name:this.testName,module:this.module});d.current_testEnvironment=this.testEnvironment;try{c.pollution||v(),this.testEnvironment.setup.call(this.testEnvironment)}catch(b){d.ok(!1,
"Setup failed on "+this.testName+": "+b.message)}},run:function(){c.current=this;this.async&&d.stop();if(c.notrycatch)this.callback.call(this.testEnvironment);else try{this.callback.call(this.testEnvironment)}catch(b){A("Test "+this.testName+" died, exception and test follows",b,this.callback),d.ok(!1,"Died on test #"+(this.assertions.length+1)+": "+b.message+" - "+d.jsDump.parse(b)),v(),c.blocking&&d.start()}},teardown:function(){c.current=this;try{this.testEnvironment.teardown.call(this.testEnvironment);
var b=c.pollution;v();var a=z(c.pollution,b);0<a.length&&ok(!1,"Introduced global variable(s): "+a.join(", "));var e=z(b,c.pollution);0<e.length&&ok(!1,"Deleted global variable(s): "+e.join(", "))}catch(h){d.ok(!1,"Teardown failed on "+this.testName+": "+h.message)}},finish:function(){c.current=this;null!=this.expected&&this.expected!=this.assertions.length&&d.ok(!1,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run");var b=0,a=0,e=k("qunit-tests");c.stats.all+=this.assertions.length;
c.moduleStats.all+=this.assertions.length;if(e){for(var e=document.createElement("ol"),h=0;h<this.assertions.length;h++){var g=this.assertions[h],i=document.createElement("li");i.className=g.result?"pass":"fail";i.innerHTML=g.message||(g.result?"okay":"failed");e.appendChild(i);g.result?b++:(a++,c.stats.bad++,c.moduleStats.bad++)}d.config.reorder&&p&&(a?sessionStorage.setItem("qunit-"+this.module+"-"+this.testName,a):sessionStorage.removeItem("qunit-"+this.module+"-"+this.testName));0==a&&(e.style.display=
"none");var f=document.createElement("strong");f.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+a+"</b>, <b class='passed'>"+b+"</b>, "+this.assertions.length+")</b>";b=document.createElement("a");b.innerHTML="Rerun";b.href=d.url({filter:x([f]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")});s(f,"click",function(){var a=f.nextSibling.nextSibling;a.style.display=a.style.display==="none"?"block":"none"});s(f,"dblclick",function(f){f=f&&f.target?f.target:j.event.srcElement;if(f.nodeName.toLowerCase()==
"span"||f.nodeName.toLowerCase()=="b")f=f.parentNode;if(j.location&&f.nodeName.toLowerCase()==="strong")j.location=d.url({filter:x([f]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")})});i=k(this.id);i.className=a?"fail":"pass";i.removeChild(i.firstChild);i.appendChild(f);i.appendChild(b);i.appendChild(e)}else for(h=0;h<this.assertions.length;h++)this.assertions[h].result||(a++,c.stats.bad++,c.moduleStats.bad++);try{d.reset()}catch(o){A("reset() failed, following Test "+this.testName+", exception and reset fn follows",
o,d.reset)}m("testDone",d,{name:this.testName,module:this.module,failed:a,passed:this.assertions.length-a,total:this.assertions.length})},queue:function(){function b(){r(function(){a.setup()});r(function(){a.run()});r(function(){a.teardown()});r(function(){a.finish()})}var a=this;r(function(){a.init()});d.config.reorder&&p&&+sessionStorage.getItem("qunit-"+this.module+"-"+this.testName)?b():r(b,!0)}};var d={module:function(b,a){c.currentModule=b;c.currentModuleTestEnviroment=a},asyncTest:function(b,
a,e){2===arguments.length&&(e=a,a=null);d.test(b,a,e,!0)},test:function(b,a,e,h){var d='<span class="test-name">'+q(b)+"</span>",i;2===arguments.length&&(e=a,a=null);a&&"object"===typeof a&&(i=a,a=null);c.currentModule&&(d='<span class="module-name">'+c.currentModule+"</span>: "+d);var f;f=c.currentModule+": "+b;var o=c.filter,D=!1;if(o){var y="!"===o.charAt(0);y&&(o=o.slice(1));-1!==f.indexOf(o)?f=!y:(y&&(D=!0),f=D)}else f=!0;f&&(d=new C(d,b,a,i,h,e),d.module=c.currentModule,d.moduleTestEnvironment=
c.currentModuleTestEnviroment,d.queue())},expect:function(b){c.current.expected=b},ok:function(b,a){var b=!!b,e={result:b,message:a},a=q(a);m("log",d,e);c.current.assertions.push({result:b,message:a})},equal:function(b,a,e){d.push(a==b,b,a,e)},notEqual:function(b,a,e){d.push(a!=b,b,a,e)},deepEqual:function(b,a,e){d.push(d.equiv(b,a),b,a,e)},notDeepEqual:function(b,a,e){d.push(!d.equiv(b,a),b,a,e)},strictEqual:function(b,a,e){d.push(a===b,b,a,e)},notStrictEqual:function(b,a,e){d.push(a!==b,b,a,e)},
raises:function(b,a,e){var c,g=!1;"string"===typeof a&&(e=a,a=null);try{b()}catch(i){c=i}c&&(a?"regexp"===d.objectType(a)?g=a.test(c):c instanceof a?g=!0:!0===a.call({},c)&&(g=!0):g=!0);d.ok(g,e)},start:function(b){c.semaphore-=b||1;0<c.semaphore||((0>c.semaphore&&(c.semaphore=0),t)?j.setTimeout(function(){if(!(c.semaphore>0)){c.timeout&&clearTimeout(c.timeout);c.blocking=false;u(true)}},13):(c.blocking=!1,u(!0)))},stop:function(b){c.semaphore+=b||1;c.blocking=!0;c.testTimeout&&t&&(clearTimeout(c.timeout),
c.timeout=j.setTimeout(function(){d.ok(!1,"Test timed out");c.semaphore=1;d.start()},c.testTimeout))}};(function(){function b(){}b.prototype=d;d=new b;d.constructor=b})();d.equals=d.equal;d.same=d.deepEqual;var c={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,urlConfig:["noglobals","notrycatch"],begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};(function(){var b=j.location||{search:"",protocol:"file:"},a=b.search.slice(1).split("&"),e=a.length,h={},g;if(a[0])for(var i=
0;i<e;i++)g=a[i].split("="),g[0]=decodeURIComponent(g[0]),g[1]=g[1]?decodeURIComponent(g[1]):!0,h[g[0]]=g[1];d.urlParams=h;c.filter=h.filter;d.isLocal="file:"===b.protocol})();"undefined"===typeof exports||"undefined"===typeof require?(l(j,d),j.QUnit=d):(l(exports,d),exports.QUnit=d);l(d,{config:c,init:function(){l(c,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1E3,blocking:false,autostart:true,autorun:false,filter:"",queue:[],semaphore:0});var b=k("qunit-tests"),a=
k("qunit-banner"),e=k("qunit-testresult");if(b)b.innerHTML="";if(a)a.className="";e&&e.parentNode.removeChild(e);if(b){e=document.createElement("p");e.id="qunit-testresult";e.className="result";b.parentNode.insertBefore(e,b);e.innerHTML="Running...<br/>&nbsp;"}},reset:function(){if(j.jQuery)jQuery("#qunit-fixture").html(c.fixture);else{var b=k("qunit-fixture");if(b)b.innerHTML=c.fixture}},triggerEvent:function(b,a,e){if(document.createEvent){e=document.createEvent("MouseEvents");e.initMouseEvent(a,
true,true,b.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);b.dispatchEvent(e)}else b.fireEvent&&b.fireEvent("on"+a)},is:function(b,a){return d.objectType(a)==b},objectType:function(b){if(typeof b==="undefined")return"undefined";if(b===null)return"null";var a=B.call(b).match(/^\[object\s(.*)\]$/)[1]||"";switch(a){case "Number":return isNaN(b)?"nan":"number";case "String":case "Boolean":case "Array":case "Date":case "RegExp":case "Function":return a.toLowerCase()}if(typeof b===
"object")return"object"},push:function(b,a,e,h){var g={result:b,message:h,actual:a,expected:e},h=q(h)||(b?"okay":"failed"),h='<span class="test-message">'+h+"</span>",e=q(d.jsDump.parse(e)),a=q(d.jsDump.parse(a)),h=h+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+e+"</pre></td></tr>";a!=e&&(h=h+('<tr class="test-actual"><th>Result: </th><td><pre>'+a+"</pre></td></tr>")+('<tr class="test-diff"><th>Diff: </th><td><pre>'+d.diff(e,a)+"</pre></td></tr>"));if(!b){a:{try{throw Error();}catch(i){if(i.stacktrace){a=
i.stacktrace.split("\n")[6];break a}if(i.stack){a=i.stack.split("\n")[4];break a}}a=void 0}if(a){g.source=a;h=h+('<tr class="test-source"><th>Source: </th><td><pre>'+q(a)+"</pre></td></tr>")}}h=h+"</table>";m("log",d,g);c.current.assertions.push({result:!!b,message:h})},url:function(b){var b=l(l({},d.urlParams),b),a="?",e;for(e in b)w.call(b,e)&&(a=a+(encodeURIComponent(e)+"="+encodeURIComponent(b[e])+"&"));return j.location.pathname+a.slice(0,-1)},extend:l,id:k,addEvent:s});l(d.constructor.prototype,
{begin:n("begin"),done:n("done"),log:n("log"),testStart:n("testStart"),testDone:n("testDone"),moduleStart:n("moduleStart"),moduleDone:n("moduleDone")});if("undefined"===typeof document||"complete"===document.readyState)c.autorun=!0;d.load=function(){m("begin",d,{});var b=l({},c);d.init();l(c,b);c.blocking=false;for(var b="",a=c.urlConfig.length,e=0,h;e<a,h=c.urlConfig[e];e++){c[h]=d.urlParams[h];b=b+('<label><input name="'+h+'" type="checkbox"'+(c[h]?' checked="checked"':"")+">"+h+"</label>")}if(a=
k("qunit-userAgent"))a.innerHTML=navigator.userAgent;if(a=k("qunit-header")){a.innerHTML='<a href="'+d.url({filter:void 0})+'"> '+a.innerHTML+"</a> "+b;s(a,"change",function(a){var f={};f[a.target.name]=a.target.checked?true:void 0;j.location=d.url(f)})}if(b=k("qunit-testrunner-toolbar")){var g=document.createElement("input");g.type="checkbox";g.id="qunit-filter-pass";s(g,"click",function(){var a=document.getElementById("qunit-tests");if(g.checked)a.className=a.className+" hidepass";else{var f=" "+
a.className.replace(/[\n\t\r]/g," ")+" ";a.className=f.replace(/ hidepass /," ")}p&&(g.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(c.hidepassed||p&&sessionStorage.getItem("qunit-filter-passed-tests")){g.checked=true;a=document.getElementById("qunit-tests");a.className=a.className+" hidepass"}b.appendChild(g);a=document.createElement("label");a.setAttribute("for","qunit-filter-pass");a.innerHTML="Hide passed tests";
b.appendChild(a)}if(b=k("qunit-fixture"))c.fixture=b.innerHTML;c.autostart&&d.start()};s(j,"load",d.load);j.onerror=function(b,a,e){d.config.current?ok(false,b+", "+a+":"+e):test("global failure",function(){ok(false,b+", "+a+":"+e)})};d.equiv=function(){var b,a=[],e=[],c=Object.getPrototypeOf||function(a){return a.__proto__},g=function(){function g(f,a){return f instanceof a.constructor||a instanceof f.constructor?a==f:a===f}return{string:g,"boolean":g,number:g,"null":g,undefined:g,nan:function(f){return isNaN(f)},
date:function(f,a){return d.objectType(f)==="date"&&a.valueOf()===f.valueOf()},regexp:function(a,b){return d.objectType(a)==="regexp"&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline},"function":function(){var f=a[a.length-1];return f!==Object&&typeof f!=="undefined"},array:function(a,c){var h,g,i,j;if(d.objectType(a)!=="array")return false;j=c.length;if(j!==a.length)return false;e.push(c);for(h=0;h<j;h++){i=false;for(g=0;g<e.length;g++)e[g]===c[h]&&
(i=true);if(!i&&!b(c[h],a[h])){e.pop();return false}}e.pop();return true},object:function(f,d){var g,i,j,k=true,l=[],m=[];if(d.constructor!==f.constructor&&!(c(d)===null&&c(f)===Object.prototype||c(f)===null&&c(d)===Object.prototype))return false;a.push(d.constructor);e.push(d);for(g in d){j=false;for(i=0;i<e.length;i++)e[i]===d[g]&&(j=true);l.push(g);if(!j&&!b(d[g],f[g])){k=false;break}}a.pop();e.pop();for(g in f)m.push(g);return k&&b(l.sort(),m.sort())}}}();return b=function(){var a=Array.prototype.slice.apply(arguments);
if(a.length<2)return true;var f;f=a[0];var b=a[1];if(f===b)f=true;else if(f===null||b===null||typeof f==="undefined"||typeof b==="undefined"||d.objectType(f)!==d.objectType(b))f=false;else{b=[b,f];f=(f=d.objectType(f))?d.objectType(g[f])==="function"?g[f].apply(g,b):g[f]:void 0}return f&&arguments.callee.apply(this,a.splice(1,a.length-1))}}();d.jsDump=function(){function b(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function a(a){return a+""}function e(a,b,e){var c=i.separator(),d=i.indent(),
h=i.indent(1);b.join&&(b=b.join(","+c+h));return!b?a+e:[a,h+b,d+e].join(c)}function c(a,b){var d=a.length,h=Array(d);for(this.up();d--;)h[d]=this.parse(a[d],void 0,b);this.down();return e("[",h,"]")}var g=/^function (\w+)/,i={parse:function(a,b,e){var e=e||[],c=this.parsers[b||this.typeOf(a)],b=typeof c,d;a:{d=e;if(d.indexOf)d=d.indexOf(a);else{for(var h=0,g=d.length;h<g;h++)if(d[h]===a){d=h;break a}d=-1}}if(d!=-1)return"recursion("+(d-e.length)+")";if(b=="function"){e.push(a);a=c.call(this,a,e);
e.pop();return a}return b=="string"?c:this.parsers.error},typeOf:function(a){return a===null?"null":typeof a==="undefined"?"undefined":d.is("RegExp",a)?"regexp":d.is("Date",a)?"date":d.is("Function",a)?"function":typeof a.setInterval!==void 0&&typeof a.document!=="undefined"&&typeof a.nodeType==="undefined"?"window":a.nodeType===9?"document":a.nodeType?"node":B.call(a)==="[object Array]"||typeof a.length==="number"&&typeof a.item!=="undefined"&&(a.length?a.item(0)===a[0]:a.item(0)===null&&typeof a[0]===
"undefined")?"array":typeof a},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;"));return Array(this._depth_+(a||0)).join(b)},up:function(a){this._depth_=this._depth_+(a||1)},down:function(a){this._depth_=this._depth_-(a||1)},setParser:function(a,b){this.parsers[a]=b},quote:b,literal:a,join:e,_depth_:1,parsers:{window:"[Window]",document:"[Document]",
error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(a){var b="function",c="name"in a?a.name:(g.exec(a)||[])[1];c&&(b=b+(" "+c));b=[b+"(",d.jsDump.parse(a,"functionArgs"),"){"].join("");return e(b,d.jsDump.parse(a,"functionCode"),"}")},array:c,nodelist:c,arguments:c,object:function(a,b){var c=[];d.jsDump.up();for(var h in a){var g=a[h];c.push(d.jsDump.parse(h,"key")+": "+d.jsDump.parse(g,void 0,b))}d.jsDump.down();return e("{",c,"}")},node:function(a){var b=
d.jsDump.HTML?"&lt;":"<",c=d.jsDump.HTML?"&gt;":">",e=a.nodeName.toLowerCase(),h=b+e,g;for(g in d.jsDump.DOMAttrs){var i=a[d.jsDump.DOMAttrs[g]];i&&(h=h+(" "+g+"="+d.jsDump.parse(i,"attribute")))}return h+c+b+"/"+e+c},functionArgs:function(a){a=a.length;if(!a)return"";for(var b=Array(a);a--;)b[a]=String.fromCharCode(97+a);return" "+b.join(", ")+" "},key:b,functionCode:"[code]",attribute:b,string:b,date:b,regexp:a,number:a,"boolean":a},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,
indentChar:"  ",multiline:true};return i}();d.diff=function(){return function(b,a){for(var b=b.replace(/\s+$/,""),a=a.replace(/\s+$/,""),c=b==""?[]:b.split(/\s+/),d=a==""?[]:a.split(/\s+/),g={},i={},f=0;f<d.length;f++){g[d[f]]==null&&(g[d[f]]={rows:[],o:null});g[d[f]].rows.push(f)}for(f=0;f<c.length;f++){i[c[f]]==null&&(i[c[f]]={rows:[],n:null});i[c[f]].rows.push(f)}for(f in g)if(w.call(g,f)&&g[f].rows.length==1&&typeof i[f]!="undefined"&&i[f].rows.length==1){d[g[f].rows[0]]={text:d[g[f].rows[0]],
row:i[f].rows[0]};c[i[f].rows[0]]={text:c[i[f].rows[0]],row:g[f].rows[0]}}for(f=0;f<d.length-1;f++)if(d[f].text!=null&&d[f+1].text==null&&d[f].row+1<c.length&&c[d[f].row+1].text==null&&d[f+1]==c[d[f].row+1]){d[f+1]={text:d[f+1],row:d[f].row+1};c[d[f].row+1]={text:c[d[f].row+1],row:f+1}}for(f=d.length-1;f>0;f--)if(d[f].text!=null&&d[f-1].text==null&&d[f].row>0&&c[d[f].row-1].text==null&&d[f-1]==c[d[f].row-1]){d[f-1]={text:d[f-1],row:d[f].row-1};c[d[f].row-1]={text:c[d[f].row-1],row:f-1}}g="";i=b.match(/\s+/g);
i==null?i=[" "]:i.push(" ");f=a.match(/\s+/g);f==null?f=[" "]:f.push(" ");if(d.length==0)for(var j=0;j<c.length;j++)g=g+("<del>"+c[j]+i[j]+"</del>");else{if(d[0].text==null)for(a=0;a<c.length&&c[a].text==null;a++)g=g+("<del>"+c[a]+i[a]+"</del>");for(j=0;j<d.length;j++)if(d[j].text==null)g=g+("<ins>"+d[j]+f[j]+"</ins>");else{for(var k="",a=d[j].row+1;a<c.length&&c[a].text==null;a++)k=k+("<del>"+c[a]+i[a]+"</del>");g=g+(" "+d[j].text+f[j]+k)}}return g}}()})(this);